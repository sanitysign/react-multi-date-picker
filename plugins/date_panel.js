"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("react-date-object");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=a(e),o=a(t);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n.apply(this,arguments)}function d(e){return Array.isArray(e)}function l(e,t){let a=[];return["left","right"].includes(e)?(t.left&&a.push("rmdp-border-left"),t.right&&a.push("rmdp-border-right")):(t.top&&a.push("rmdp-border-top"),t.bottom&&a.push("rmdp-border-bottom")),a.join(" ")}!function(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===a&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".rmdp-panel{min-width:125px}.rmdp-panel-body{left:0;list-style:none;margin:0;overflow:auto;padding:0 5px;position:absolute;right:0;text-align:center}.rmdp-panel-body li{border-radius:3px;box-shadow:0 0 2px #8798ad;color:#fff;display:flex;margin:4px 1px;position:relative}.rmdp-panel-body li,.rmdp-panel-body li.bg-blue{background-color:#0074d9}.rmdp-panel-body li.bg-red{background-color:#ea0034}.rmdp-panel-body li.bg-green{background-color:#009688}.rmdp-panel-body li.bg-yellow{background-color:#fad817}.rmdp-panel-body li.rmdp-focused{box-shadow:0 0 2px 1px #8798ad}.rmdp-panel-body span{font-size:15px;line-height:23px;margin:0 5px}.rmdp-panel-body li .b-deselect{align-items:center;border:none;border-radius:50%;cursor:pointer;display:inline-flex;font-family:Arial!important;font-size:16px;height:12px;justify-content:center;line-height:5px;padding:0;position:absolute;right:5px;top:52%;transform:translateY(-50%) rotate(45deg);width:12px}.rmdp-panel-body li .b-deselect:focus{outline:none}.rmdp-panel-header{color:#000;font-size:14px;height:38px;line-height:37px;margin-bottom:5px;margin-top:8px}.rmdp-panel-body::-webkit-scrollbar{height:7px;width:7px}.rmdp-panel-body::-webkit-scrollbar-thumb{background:#0074d9;border-radius:3px}.rmdp-panel-body::-webkit-scrollbar-thumb:hover{background:#0263b8}.rmdp-rtl .rmdp-panel-body li .b-deselect{left:5px;right:unset}.rmdp-flat .rmdp-panel-header{border-bottom:none;margin-top:8px}.rmdp-flat .rmdp-panel-body li{border-radius:0}@media (max-height:400px),(max-width:400px){.rmdp-panel{min-width:103px}.rmdp-panel-body{padding:0 2px}.rmdp-panel-body li{font-size:12px;margin:4px}.rmdp-panel-header{font-size:12px;height:32px;line-height:32px}.rmdp-panel-body span{font-size:12px}}"),exports.default=function(e){let{state:t,setState:a,position:i,nodes:p,handleChange:s,eachDaysInRange:c,sort:u,style:m={},className:f="",onClickDate:b,removeButton:h=!0,header:g,markFocused:x,focusedClassName:y="",handleFocusedDate:v,formatFunction:w,...k}=e,C=[],{multiple:D,range:j,inRangeDates:E,selectedDate:N,date:{locale:O}}=t,P=["rmdp-panel",i,l(i,p)];if(O=O.name.split("_")[1],D||j&&!c)C=(E||N).map(((e,t)=>({date:e,format:e.format(),index:t})));else if(j&&c){let e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(e))return[];let a=e[0],r=e[e.length-1],n=[];if(!(a instanceof o.default&&r instanceof o.default&&a.isValid&&r.isValid)||a>r)return[];for(a=new o.default(a),r=new o.default(r);a<=r;a.day++)n.push(t?a.toDate():new o.default(a));return n}(E||N);C=e.map(((t,a)=>({date:0===a||a===e.length-1?t:void 0,format:t.format(),index:a})))}else N&&!d(N)&&(C=[{date:N,format:N.format(),index:0}]);return D&&"date"===u&&C.sort(((e,t)=>e.date-t.date)),D&&"color"===u&&C.every((e=>e.date.color))&&C.sort(((e,t)=>e.date.color<t.date.color?-1:e.date.color>t.date.color?1:0)),["fa","ar"].includes(function(e){return e&&e.name?e.name.split("_")[1]:""}(O))&&P.push("rmdp-rtl"),r.default.createElement("div",n({className:`${P.join(" ")} ${f}`,style:{display:"grid",gridTemplateRows:"auto 1fr",...m}},function(e){let{state:t,setState:a,position:r,registerListener:o,calendarProps:n,datePickerProps:d,handleChange:l,nodes:i,Calendar:p,DatePicker:s,handlePropsChange:c,handleFocusedDate:u,...m}=e;return m}(k)),r.default.createElement("div",{className:"rmdp-panel-header"},g||{en:"Dates",fa:"تاریخ ها",ar:"تواریخ",hi:"खजूर"}[O]),r.default.createElement("div",{style:{position:"relative",overflow:"auto",height:["top","bottom"].includes(i)?"100px":""}},r.default.createElement("ul",{className:"rmdp-panel-body"},d(C)&&C.map(((e,a)=>r.default.createElement("li",{key:a,className:`${e.date?.color?`bg-${e.date.color}`:""} ${x&&e.date?.valueOf?.()===t.focused?.valueOf?.()?y||"rmdp-focused":""}`,onClick:()=>!h&&z(e.date,e.index)},r.default.createElement("span",{onClick:()=>h&&z(e.date,e.index),style:{cursor:e.date?"pointer":"default"}},w?w(e):e.format),e.date&&h&&r.default.createElement("button",{type:"button",className:"b-deselect",onClick:()=>function(e){let a,r;j||D?(a=N.filter(((t,a)=>a!==e)),r=a.find((e=>e.valueOf()===t.focused?.valueOf?.()))):(a=null,r=void 0);s(a,{...t,selectedDate:a,focused:r}),A(),v(r)}(e.index)},"+")))))));function z(e,r){A(e?N[r]:void 0),e&&(a({...t,date:new o.default(e),focused:N[r]}),v(N[r]))}function A(e){b instanceof Function&&b(e)}};
